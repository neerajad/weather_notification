<!DOCTYPE html>
<html>
  <head>
    <meta charset-"utf-8">
    <title>Home</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">
      var socket = io();
      socket.on('connect', function () {
        console.log('Connected to server');
      });

      $(document).ready(function(){
        $('#userformid').on('submit', function(e) {
          e.preventDefault();
          if ($('#firstNameid').val().length > 0 && $('#lastNameid').val().length > 0 && $('#emailid').val().length > 0 && $('#zipcodeid').val().length > 0) {
            socket.emit('subscribe', {
              firstName: $('#firstNameid').val(),
              lastName: $('#lastNameid').val(),
              email: $('#emailid').val(),
              zipcode: $('#zipcodeid').val()
            });
          } else {
            alert('Please fill all required fields');
          }
        });

        socket.on('subscribed', function (message) {
          $('#subMessageId').text(message);
        });
      });
    </script>
  </head>
  <body id="bodyId">
    <div class="" align="center">
      <div id="subMessageId">

      </div>
      <form id="userformid">
        First Name: <input type="text" id="firstNameid" name="fname" placeholder="first name" /> <br/>
        Last Name: <input type="text" id="lastNameid" name="lname" placeholder="last name" /> <br/>
        Email: <input type="text" id="emailid" name="email" placeholder="email" /> <br/>
        Zip Code: <input type="number" id="zipcodeid" name="zip" placeholder="Enter your zip code"/> <br/>
        <button>Subscribe</button>
      </form>
    </div>
  </body>
</html>
